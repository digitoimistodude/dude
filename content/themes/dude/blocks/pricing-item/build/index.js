(()=>{"use strict";const e=window.wp.blocks,s=window.wp.blockEditor,a=window.wp.i18n,n=window.wp.components,i=window.wp.element,t=window.ReactJSXRuntime,r=JSON.parse('{"UU":"dude/pricing-item"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{title:l,isPopular:c,price:o,shortDescription:d,content:h,features:p}=e,[u,x]=(0,i.useState)(!1),m=(0,s.useBlockProps)({className:"pricing-accordion-item"+(c?" is-popular":"")});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.InspectorControls,{children:(0,t.jsxs)(n.PanelBody,{title:(0,a.__)("Tuotteen asetukset","dude"),children:[(0,t.jsx)(n.ToggleControl,{label:(0,a.__)("Suosituin","dude"),checked:c,onChange:e=>r({isPopular:e})}),(0,t.jsx)(n.TextareaControl,{label:(0,a.__)("Sisältö (avattu)","dude"),value:h,onChange:e=>r({content:e})}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:(0,a.__)("Ominaisuudet","dude")})}),p.map((e,s)=>(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[(0,t.jsx)(n.TextControl,{value:e,onChange:e=>((e,s)=>{const a=[...p];a[e]=s,r({features:a})})(s,e),style:{flex:1}}),(0,t.jsx)(n.Button,{isDestructive:!0,variant:"secondary",onClick:()=>(e=>{const s=p.filter((s,a)=>a!==e);r({features:s})})(s),style:{flexShrink:0},children:(0,a.__)("X","dude")})]},s)),(0,t.jsx)(n.Button,{variant:"secondary",onClick:()=>{r({features:[...p,"Uusi ominaisuus"]})},children:(0,a.__)("+ Lisää ominaisuus","dude")})]})}),(0,t.jsxs)("div",{...m,children:[(0,t.jsx)("div",{className:"accordion-header",children:(0,t.jsx)("div",{className:"accordion-trigger","aria-expanded":u?"true":"false",children:(0,t.jsxs)("span",{className:"accordion-title",children:[(0,t.jsxs)("span",{className:"item-content",children:[(0,t.jsxs)("span",{className:"item-header",children:[(0,t.jsx)(s.RichText,{tagName:"span",className:"item-name",value:l,onChange:e=>r({title:e}),placeholder:(0,a.__)("Tuotteen nimi...","dude")}),c&&(0,t.jsx)("span",{className:"badge",children:"Suosituin"})]}),(0,t.jsxs)("span",{className:"item-meta",children:[(0,t.jsx)(s.RichText,{tagName:"span",className:"price",value:o,onChange:e=>r({price:e}),placeholder:(0,a.__)("Hinta...","dude")}),(0,t.jsx)(s.RichText,{tagName:"span",className:"description",value:d,onChange:e=>r({shortDescription:e}),placeholder:(0,a.__)("Lyhyt kuvaus...","dude")})]})]}),(0,t.jsx)("span",{className:"accordion-icon",onClick:()=>x(!u),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x(!u))},role:"button",tabIndex:0,"aria-label":u?(0,a.__)("Sulje","dude"):(0,a.__)("Avaa","dude"),children:(0,t.jsx)("svg",{width:"18",height:"10",viewBox:"0 0 18 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M.666.667l8 8 8-8",stroke:"#7EFFE1",strokeWidth:"1.333",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),u&&(0,t.jsx)("div",{className:"accordion-panel",children:(0,t.jsxs)("div",{children:[h&&(0,t.jsx)("p",{children:h}),p&&p.length>0&&(0,t.jsx)("ul",{children:p.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})})]})]})},save:({attributes:e})=>{const{title:a,isPopular:n,price:i,shortDescription:r,content:l,features:c}=e,o=(a||"pricing-item").toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"),d=`accordion-${o}`,h=o,p=s.useBlockProps.save({className:"pricing-accordion-item"+(n?" is-popular":"")});return(0,t.jsxs)("div",{...p,children:[(0,t.jsx)("h3",{children:(0,t.jsx)("button",{className:"accordion-trigger",type:"button","aria-expanded":"false","aria-controls":h,id:d,children:(0,t.jsxs)("span",{className:"accordion-title",children:[(0,t.jsxs)("span",{className:"item-content",children:[(0,t.jsxs)("span",{className:"item-header",children:[(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"item-name",value:a}),n&&(0,t.jsx)("span",{className:"badge",children:"Suosituin"})]}),(0,t.jsxs)("span",{className:"item-meta",children:[(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"price",value:i}),(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"description",value:r})]})]}),(0,t.jsx)("span",{className:"accordion-icon",children:(0,t.jsx)("svg",{width:"18",height:"10",viewBox:"0 0 18 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M.666.667l8 8 8-8",stroke:"#7EFFE1",strokeWidth:"1.333",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),(0,t.jsx)("div",{id:h,role:"region","aria-labelledby":d,className:"accordion-panel",hidden:!0,children:(0,t.jsxs)("div",{children:[l&&(0,t.jsx)("p",{children:l}),c&&c.length>0&&(0,t.jsx)("ul",{children:c.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})})]})}})})();