(()=>{"use strict";const e=window.wp.blocks,s=window.wp.blockEditor,a=window.wp.i18n,i=window.wp.components,n=window.wp.element,t=window.ReactJSXRuntime,c=JSON.parse('{"UU":"dude/pricing-item"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{title:l,isPopular:o,price:r,shortDescription:d,content:u,features:p}=e,[h,x]=(0,n.useState)(!1),m=(0,s.useBlockProps)({className:"pricing-accordion-item"+(o?" is-popular":""),"aria-expanded":h?"true":"false"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.InspectorControls,{children:(0,t.jsxs)(i.PanelBody,{title:(0,a.__)("Tuotteen asetukset","dude"),children:[(0,t.jsx)(i.ToggleControl,{label:(0,a.__)("Suosituin","dude"),checked:o,onChange:e=>c({isPopular:e})}),(0,t.jsx)(i.TextareaControl,{label:(0,a.__)("Sisältö (avattu)","dude"),value:u,onChange:e=>c({content:e})}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:(0,a.__)("Ominaisuudet","dude")})}),p.map((e,s)=>(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[(0,t.jsx)(i.TextControl,{value:e,onChange:e=>((e,s)=>{const a=[...p];a[e]=s,c({features:a})})(s,e),style:{flex:1}}),(0,t.jsx)(i.Button,{isDestructive:!0,variant:"secondary",onClick:()=>(e=>{const s=p.filter((s,a)=>a!==e);c({features:s})})(s),style:{flexShrink:0},children:(0,a.__)("X","dude")})]},s)),(0,t.jsx)(i.Button,{variant:"secondary",onClick:()=>{c({features:[...p,"Uusi ominaisuus"]})},children:(0,a.__)("+ Lisää ominaisuus","dude")})]})}),(0,t.jsxs)("div",{...m,children:[(0,t.jsxs)("div",{className:"item-main",onClick:()=>x(!h),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x(!h))},role:"button",tabIndex:0,children:[(0,t.jsxs)("div",{className:"item-content",children:[(0,t.jsxs)("div",{className:"item-header",children:[(0,t.jsx)(s.RichText,{tagName:"h3",value:l,onChange:e=>c({title:e}),placeholder:(0,a.__)("Tuotteen nimi...","dude"),onClick:e=>e.stopPropagation()}),o&&(0,t.jsx)("span",{className:"badge",children:"Suosituin"})]}),(0,t.jsxs)("div",{className:"item-meta",children:[(0,t.jsx)(s.RichText,{tagName:"span",className:"price",value:r,onChange:e=>c({price:e}),placeholder:(0,a.__)("Hinta...","dude"),onClick:e=>e.stopPropagation()}),(0,t.jsx)(s.RichText,{tagName:"span",className:"description",value:d,onChange:e=>c({shortDescription:e}),placeholder:(0,a.__)("Lyhyt kuvaus...","dude"),onClick:e=>e.stopPropagation()})]})]}),(0,t.jsx)("span",{className:"icon","aria-hidden":"true"})]}),h&&(0,t.jsxs)("div",{className:"accordion-content",children:[(0,t.jsx)("p",{children:u}),p&&p.length>0&&(0,t.jsx)("ul",{children:p.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})]})]})},save:({attributes:e})=>{const{title:a,isPopular:i,price:n,shortDescription:c,content:l,features:o}=e,r=s.useBlockProps.save({className:"pricing-accordion-item"+(i?" is-popular":""),"aria-expanded":"false"});return(0,t.jsxs)("div",{...r,children:[(0,t.jsxs)("button",{className:"item-main",type:"button","aria-expanded":"false",children:[(0,t.jsxs)("div",{className:"item-content",children:[(0,t.jsxs)("div",{className:"item-header",children:[(0,t.jsx)(s.RichText.Content,{tagName:"h3",value:a}),i&&(0,t.jsx)("span",{className:"badge",children:"Suosituin"})]}),(0,t.jsxs)("div",{className:"item-meta",children:[(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"price",value:n}),(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"description",value:c})]})]}),(0,t.jsx)("span",{className:"icon","aria-hidden":"true"})]}),(0,t.jsxs)("div",{className:"accordion-content",hidden:!0,children:[l&&(0,t.jsx)("p",{children:l}),o&&o.length>0&&(0,t.jsx)("ul",{children:o.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})]})}})})();