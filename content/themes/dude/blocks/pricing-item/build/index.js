(()=>{"use strict";const e=window.wp.blocks,s=window.wp.blockEditor,i=window.wp.i18n,n=window.wp.components,a=window.wp.element,t=window.ReactJSXRuntime,r=JSON.parse('{"UU":"dude/pricing-item"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{title:o,isPopular:c,price:l,shortDescription:d,content:p,features:u}=e,[h,x]=(0,a.useState)(!1),m=(0,s.useBlockProps)({className:"pricing-accordion-item"+(c?" is-popular":""),"aria-expanded":h?"true":"false"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.InspectorControls,{children:(0,t.jsxs)(n.PanelBody,{title:(0,i.__)("Tuotteen asetukset","dude"),children:[(0,t.jsx)(n.ToggleControl,{label:(0,i.__)("Suosituin","dude"),checked:c,onChange:e=>r({isPopular:e})}),(0,t.jsx)(n.TextareaControl,{label:(0,i.__)("Sisältö (avattu)","dude"),value:p,onChange:e=>r({content:e})}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:(0,i.__)("Ominaisuudet","dude")})}),u.map((e,s)=>(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[(0,t.jsx)(n.TextControl,{value:e,onChange:e=>((e,s)=>{const i=[...u];i[e]=s,r({features:i})})(s,e),style:{flex:1}}),(0,t.jsx)(n.Button,{isDestructive:!0,variant:"secondary",onClick:()=>(e=>{const s=u.filter((s,i)=>i!==e);r({features:s})})(s),style:{flexShrink:0},children:(0,i.__)("X","dude")})]},s)),(0,t.jsx)(n.Button,{variant:"secondary",onClick:()=>{r({features:[...u,"Uusi ominaisuus"]})},children:(0,i.__)("+ Lisää ominaisuus","dude")})]})}),(0,t.jsxs)("div",{...m,children:[(0,t.jsxs)("div",{className:"item-main",onClick:()=>x(!h),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x(!h))},role:"button",tabIndex:0,children:[(0,t.jsxs)("div",{className:"item-content",children:[(0,t.jsxs)("div",{className:"item-header",children:[(0,t.jsx)(s.RichText,{tagName:"h3",value:o,onChange:e=>r({title:e}),placeholder:(0,i.__)("Tuotteen nimi...","dude"),onClick:e=>e.stopPropagation()}),c&&(0,t.jsx)("span",{className:"badge",children:"Suosituin"})]}),(0,t.jsxs)("div",{className:"item-meta",children:[(0,t.jsx)(s.RichText,{tagName:"span",className:"price",value:l,onChange:e=>r({price:e}),placeholder:(0,i.__)("Hinta...","dude"),onClick:e=>e.stopPropagation()}),(0,t.jsx)(s.RichText,{tagName:"span",className:"description",value:d,onChange:e=>r({shortDescription:e}),placeholder:(0,i.__)("Lyhyt kuvaus...","dude"),onClick:e=>e.stopPropagation()})]})]}),(0,t.jsx)("span",{className:"icon","aria-hidden":"true"})]}),h&&(0,t.jsxs)("div",{className:"accordion-content",children:[(0,t.jsx)("p",{children:p}),u&&u.length>0&&(0,t.jsx)("ul",{children:u.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})]})]})},save:({attributes:e})=>{const{title:i,isPopular:n,price:a,shortDescription:r,content:o,features:c}=e,l=(i||"pricing-item").toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"),d=`accordion-${l}`,p=l,u=s.useBlockProps.save({className:"accordion-item pricing-accordion-item"+(n?" is-popular":"")});return(0,t.jsxs)("div",{...u,children:[(0,t.jsx)("h3",{children:(0,t.jsx)("button",{className:"accordion-trigger",type:"button","aria-expanded":"false","aria-controls":p,id:d,children:(0,t.jsxs)("span",{className:"accordion-title",children:[(0,t.jsxs)("span",{className:"item-content",children:[(0,t.jsxs)("span",{className:"item-header",children:[(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"item-name",value:i}),n&&(0,t.jsx)("span",{className:"badge",children:"Suosituin"})]}),(0,t.jsxs)("span",{className:"item-meta",children:[(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"price",value:a}),(0,t.jsx)(s.RichText.Content,{tagName:"span",className:"description",value:r})]})]}),(0,t.jsx)("span",{className:"accordion-icon",children:(0,t.jsx)("svg",{width:"18",height:"10",viewBox:"0 0 18 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M.666.667l8 8 8-8",stroke:"#7EFFE1",strokeWidth:"1.333",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),(0,t.jsx)("div",{id:p,role:"region","aria-labelledby":d,className:"accordion-panel",hidden:!0,children:(0,t.jsxs)("div",{children:[o&&(0,t.jsx)("p",{children:o}),c&&c.length>0&&(0,t.jsx)("ul",{children:c.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})})]})}})})();