(()=>{"use strict";const s=window.wp.blocks,e=window.wp.i18n,i=window.wp.blockEditor,n=window.wp.components,a=window.wp.element,o=window.ReactJSXRuntime;(0,s.registerBlockType)("dude/pricing-faq",{edit:function({attributes:s,setAttributes:t}){const{sectionTitle:l,sectionDescription:d,items:c}=s,[r,u]=(0,a.useState)(null),p=(0,i.useBlockProps)({className:"block block-pricing-faq block-upkeep-faq has-unified-padding-if-stacked"}),x=(s,e,i)=>{const n=[...c];n[s]={...n[s],[e]:i},t({items:n})},h=(s,e)=>{const i=[...c],n=s+e;n<0||n>=c.length||([i[s],i[n]]=[i[n],i[s]],t({items:i}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.InspectorControls,{children:[(0,o.jsx)(n.PanelBody,{title:(0,e.__)("UKK-asetukset","dude"),children:(0,o.jsx)("p",{style:{color:"#757575",fontSize:"12px"},children:(0,e.__)("Muokkaa osion otsikkoa ja kuvausta suoraan lohkossa. Lisää ja muokkaa kysymyksiä alla.","dude")})}),c.map((s,i)=>(0,o.jsxs)(n.PanelBody,{title:s.question||`Kysymys ${i+1}`,initialOpen:r===i,onToggle:()=>u(r===i?null:i),children:[(0,o.jsx)(n.TextControl,{label:(0,e.__)("Kysymys","dude"),value:s.question,onChange:s=>x(i,"question",s)}),(0,o.jsx)(n.TextareaControl,{label:(0,e.__)("Vastaus","dude"),value:s.answer,onChange:s=>x(i,"answer",s),rows:4}),(0,o.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"16px",borderTop:"1px solid #ddd",paddingTop:"16px"},children:[(0,o.jsx)(n.Button,{variant:"secondary",onClick:()=>h(i,-1),disabled:0===i,children:(0,e.__)("Ylös","dude")}),(0,o.jsx)(n.Button,{variant:"secondary",onClick:()=>h(i,1),disabled:i===c.length-1,children:(0,e.__)("Alas","dude")}),(0,o.jsx)(n.Button,{isDestructive:!0,onClick:()=>(s=>{const e=c.filter((e,i)=>i!==s);t({items:e})})(i),children:(0,e.__)("Poista","dude")})]})]},s.id||i)),(0,o.jsx)(n.PanelBody,{children:(0,o.jsx)(n.Button,{variant:"primary",onClick:()=>{const s=[...c,{id:Date.now(),question:"Uusi kysymys?",answer:"Vastaus kysymykseen."}];t({items:s})},children:(0,e.__)("+ Lisää kysymys","dude")})})]}),(0,o.jsx)("div",{...p,children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"faq-layout",children:[(0,o.jsxs)("div",{className:"faq-intro",children:[(0,o.jsx)(i.RichText,{tagName:"h2",value:l,onChange:s=>t({sectionTitle:s}),placeholder:(0,e.__)("Osion otsikko...","dude")}),(0,o.jsx)(i.RichText,{tagName:"p",value:d,onChange:s=>t({sectionDescription:s}),placeholder:(0,e.__)("Osion kuvaus...","dude")})]}),(0,o.jsx)("div",{className:"faq-items",children:(0,o.jsxs)("div",{className:"accordion",children:[0===c.length&&(0,o.jsx)("p",{style:{color:"#999",fontStyle:"italic"},children:(0,e.__)("Lisää kysymyksiä sivupalkista.","dude")}),c.map((s,e)=>(0,o.jsx)("div",{className:"accordion-item",children:(0,o.jsx)("h3",{children:(0,o.jsx)("button",{className:"accordion-trigger","aria-expanded":"false",children:(0,o.jsxs)("span",{className:"accordion-title",children:[s.question,(0,o.jsx)("span",{className:"accordion-icon"})]})})})},s.id||e))]})})]})})})]})},save:()=>null})})();